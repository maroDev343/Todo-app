@use '../abstracts' as *;
@use '../core' as *;
// Todos

.todo {
  &__list {
    @include list-reset;
    box-shadow: $box-shadow;
    transition: all $calm-transition;

    .todo-item {
      height: $todo-height;
      background: var(--todo-color);
      padding: 0 $spacing-sml;
      transition: all $snap-transition;
      @include flex;

      // ? animations on todo-add (Js)
      transform: translateX(250px);
      opacity: 0;

      &:not(:last-child) {
        border-bottom: 1px solid var(--border-color);
      }
      &:first-child {
        border-radius: $radius $radius 0 0;
      }
      &:hover > .remove-icon {
        transform: translateX(0) skewY(0);
        opacity: 1;
        pointer-events: all;
      }
      .check-box {
        width: $circle-dims;
        height: $circle-dims;
        border-radius: 50%;
        margin-left: $spacing-sml;
        background: var(--todo-color);
        border: 1px solid var(--border-color);
        cursor: pointer;
        @include center(check-icon, 50%, 40%);
        .check-icon {
          opacity: 0;
        }
        &:hover {
          border-color: $bright-blue;
        }
      }
      .content {
        padding: 0 $spacing / 2;
        flex-grow: 1;
      }
      .remove-icon {
        $padding: $circle-dims / 3.5;
        border-radius: 50%;
        color: white;
        padding: $padding / 1.3 $padding;
        margin-right: $spacing-sml;
        background: $trash-color;
        border: 2px solid transparent;
        cursor: pointer;
        transition: transform $snap-transition, opacity $snap-transition, color 0.25s,
          background 0.25s, border-color 0.25s;

        //? animations on todo-item hover
        transform: translateX(100px) skewY(25deg);
        opacity: 0;
        pointer-events: none;

        &:hover {
          color: $trash-color;
          border-color: $trash-color;
          background: white;
        }
      }
      &.completed {
        .check-box {
          background: $check__gradient;
          border: none;
          .check-icon {
            opacity: 1;
          }
        }
        .content {
          text-decoration: line-through;
          color: $strike-color;
        }
      }
    }
  }
  &__options {
    @include flex;
    width: 100%;
    height: $todo-height / 1.25;
    background: var(--todo-color);
    color: var(--accent-color);
    padding: 0 $spacing-sml * 2;
    border-top: 1px solid var(--border-color);
    border-radius: 0 0 $radius $radius;
    position: relative;
    transition: all $snap-transition;

    //? animations if there is todos (Js)
    // transform: translateY(150px) skewX(15deg);
    // opacity: 0;
    // pointer-events: none;

    .clear-box {
      cursor: pointer;
      &:hover {
        color: var(--text-color);
      }
    }
    .filter-items {
      --width: 200px;
      width: var(--width);
      height: $todo-height / 1.5;
      background: var(--todo-color);
      position: absolute;
      border-radius: $radius $radius;
      bottom: 5%;
      left: calc(50% - var(--width) / 2);
      @include flex(row, center);
      transition: all $snap-transition;
      @media (max-width: $break-1) {
        bottom: -$float-margin;
        --width: 100%;
        box-shadow: $box-shadow;
      }
      .filtered {
        color: $bright-blue;
      }
      & > * {
        margin: 0 $spacing-sml;
        cursor: pointer;
        &:not(.filtered) {
          &:hover {
            color: var(--text-color);
          }
        }
      }
    }
  }
}
